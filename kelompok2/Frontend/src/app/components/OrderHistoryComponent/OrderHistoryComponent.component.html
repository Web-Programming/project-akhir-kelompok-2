<div class="order-history">
  <h2>Riwayat Pesanan</h2>
  
  <div class="orders-list">
    <div *ngFor="let order of orders" class="order-item">
      <div class="order-header">
        <div class="order-date">
          {{ order.date | date:'dd MMM yyyy, HH:mm' }}
        </div>
        <div class="order-status" [ngClass]="order.status">
          {{ getStatusText(order.status) }}
        </div>
      </div>

      <div class="order-details">
        <div class="order-info">
          <p><strong>Alamat:</strong> {{ order.address }}</p>
          <p><strong>No. Telepon:</strong> {{ order.phone }}</p>
        </div>

        <div class="order-items">
          <div *ngFor="let item of order.items" class="item">
            <span>{{ item.name }} x{{ item.quantity }}</span>
            <span>Rp{{ item.price.toLocaleString('id-ID') }}</span>
          </div>
        </div>

        <div class="order-total">
          <strong>Total: Rp{{ order.total.toLocaleString('id-ID') }}</strong>
        </div>

        <div class="order-actions" *ngIf="order.status === 'pending'">
          <button class="pay-btn" (click)="payOrder(order._id)">
            Bayar
          </button>
          <button class="cancel-btn" (click)="cancelOrder(order._id)">
            Batalkan
          </button>
        </div>
      </div>
    </div>
  </div>
</div>
